<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kelime Oyunu Sitesi</title>
    <style>

body {
    font-family: 'Courier New', Courier, monospace;
    margin: 0;
    padding: 0;
    background: linear-gradient(to bottom right, #74ebd5, #acb6e5);
    color: #2b2b2b;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
}

header {
    background-color: #2b2b2b;
    color: #f4f4f4;
    padding: 24px;
    width: 100%;
    text-align: center;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
}

h1 {
    margin: 0;
    font-size: 40px;
    font-weight: bold;
}

.login-section, .game-selection, #game-area {
    background: #ffffff;
    padding: 32px;
    border-radius: 10px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    width: 90%;
    max-width: 400px;
    text-align: center;
}

input[type="text"] {
    padding: 12px;
    margin: 16px 0;
    width: 100%;
    font-size: 16px;
    border: 1px solid #ccc;
    border-radius: 5px;
    outline: none;
}

.game-button {
    display: inline-block;
    margin: 8px;
    padding: 12px 24px;
    font-size: 16px;
    color: white;
    background-color: #0074d9;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s, transform 0.2s;
}

.game-button:hover {
    background-color: #005fa3;
    transform: scale(1.05);
}

.hidden {
    display: none;
}

#timer, #score {
    font-size: 19px;
    margin: 16px 0;
    font-weight: bold;
}

#description {
    font-size: 14px;
    color: #444;
    margin: 16px 0;
}

#game-content {
    font-size: 19px;
    margin: 24px 0;
    color: #2b2b2b;
    font-weight: bold;
}

input#user-input {
    width: calc(100% - 32px);
    padding: 12px;
    font-size: 16px;
    border: 1px solid #ccc;
    border-radius: 5px;
    outline: none;
}

table {
    border-collapse: collapse;
    width: 100%;
    margin: 24px 0;
}

table th, table td {
    text-align: left;
    padding: 12px;
    border: 1px solid #ddd;
}

table th {
    background-color: #0074d9;
    color: white;
}

#congrats-message {
    position: fixed;
    top: 20px;
    right: 20px;
    background: #28a745;
    color: white;
    padding: 16px;
    border-radius: 5px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    display: none;
}

footer {
    margin-top: 32px;
    text-align: center;
    color: #555;
    font-size: 14px;
}

footer a {
    color: #0074d9;
    text-decoration: none;
}

.button-container {
    display: flex;
    flex-direction: column;
    align-items: center;
}

.game-button + .logout-button {
    margin-top: 16px;
}

.game-selection .game-button {
    display: inline-block;
    margin-bottom: 8px;
}

.game-selection .logout-button {
    margin-top: 16px;
}

.game-selection button:nth-child(3) {
    margin-bottom: 16px;
}

.game-selection .logout-button {
    margin-top: 16px;
    margin-left: 0;
}

    </style>
</head>
<body>
    <header>
        <h1>Kelime Oyunu Sitesi</h1>
    </header>

    <div class="login-section">
        <input type="text" id="username" placeholder="Kullanıcı adınızı girin">
        <button class="game-button" onclick="login()">Giriş Yap</button>
    </div>

    <div class="game-selection hidden">
        <h2>Hoş geldiniz, <span id="current-user"></span>!</h2>
        <div class="button-container">
            <button class="game-button" onclick="startGame('karisikHarfler')">Karışık Harflerden Kelime Bulma</button>
            <button class="game-button" onclick="startGame('ingTurkKelime')">İngilizce-Türkçe Kelime Bulma</button>
            <button class="game-button" onclick="startGame('zitAnlamli')">Zıt Anlamlısını Bulma</button>
        </div>
        <button class="game-button" onclick="logout()">Çıkış Yap</button>
        <div id="scoreboard">
            <h3>En Yüksek Skorlar</h3>
            <table>
                <thead>
                    <tr>
                        <th>Oyun</th>
                        <th>Kullanıcı</th>
                        <th>Skor</th>
                    </tr>
                </thead>
                <tbody id="score-table-body"></tbody>
            </table>
        </div>
    </div>    

    <div id="game-area" class="hidden">
        <div id="timer">Zaman: 60</div>
        <div id="score">Puan: 0</div>
        <div id="description" class="description"></div>
        <div id="game-content"></div>
        <input type="text" id="user-input" placeholder="Cevabınızı buraya yazın" onkeyup="checkAnswer()">
        <button class="game-button" onclick="endGame()">Çık</button>
    </div>

    <div id="congrats-message">Tebrikler! En yüksek skoru geçtiniz!</div>

    <script>
        let timer;
        let timeLeft = 60;
        let score = 0;
        let currentGame = "";
        let currentUser = "";

    const words = {
        "karisikHarfler": [
        "elma", "masa", "araba", "kedi", "köpek", "pencere", "telefon", "kamera", "bilgisayar", "yazılım",
        "okul", "top", "dondurma", "park", "ev", "yatak", "kalem", "kitap", "defter", "çiçek",
        "gitar", "televizyon", "kutu", "adam", "eldiven", "kar", "ışık", "çanta", "mutfak",
        "halı", "resim", "ağaç", "şemsiye", "tencere", "ayakkabı", "kuş", "balık",
        "yıldız", "deniz", "güneş", "bulut", "ay", "kumar", "sinema", "tiyatro", "otobüs", "tren",
        "uçak", "limon", "portakal", "muz", "karpuz", "çilek", "kiraz", "dut", "armut", "üzüm", "nar",
        "kalorifer", "buzdolabı", "şarj", "dolap", "masaüstü", "klavye", "fare", "bilim", "radyo", "pazartesi",
        "salı", "çarşamba", "perşembe", "cuma", "cumartesi", "pazar", "yemek", "çorba", "salata", "börek",
        "kırmızı", "mavi", "yeşil", "beyaz", "sarı", "mor", "turuncu", "gri", "siyah", "kahverengi",
        "taş", "toprak", "su", "hoca", "öğrenci", "okul", "şeker", "tatlı", "tuzlu", "acı",
        "balon", "kamyon", "jip", "sandal", "gemi", "otobüs", "tren", "uçak", "helikopter",
        "bahçe", "orman", "şehir", "köy", "ev", "apartman", "daire", "oda", "balkon", "çatı",
        "duvar", "kapı", "pencere", "koltuk", "sandık", "yatak", "kasa", "ayna", "tablo", "zincir",
        "kitap", "dergi", "gazete", "film", "kamera", "lamba", "televizyon", "radyo", "müzik", "keman",
        "flüt", "gitar", "davul", "bateri", "piyano", "orkestra", "sanat", "tablo", "fotoğraf", "heykel",
        "yazar", "kitap", "şair", "şiir", "roman", "hikaye", "masal", "tarih", "coğrafya", "fizik",
        "kimya", "biyoloji", "matematik", "geometri", "felsefe", "psikoloji", "sosyoloji", "arkeoloji", "antropoloji", "edebiyat",
        "dil", "din", "sanat", "müzik", "resim", "spor", "futbol", "basketbol", "voleybol",
        "yüzme", "tenis", "golf", "satranç", "masa tenisi", "hentbol", "kano", "sörf", "kayak", 
        "mavi", "kırmızı", "siyah", "beyaz", "sarı", "turuncu", "yeşil", "mor", "pembe", "bej",
        "limon", "greyfurt", "mandalina", "kivi", "avokado", "havuç", "domates", "salatalık", "patlıcan", "soğan",
        "biber", "marul", "karnabahar", "brokoli", "fasulye", "bezelye", "nohut", "mercimek", "pirinç", "bulgur",
        "kepek", "kinoa", "çörekotu", "ceviz", "fındık", "badem", "antep fıstığı", "yerfıstığı", "kestane", "kabak çekirdeği",
        "ayçekirdeği", "susam", "zeytin", "peynir", "tereyağı", "süt", "yoğurt", "kaymak", "dondurma", "bal",
        "çikolata", "şeker", "reçel", "pekmez", "tahin", "helva", "kuru yemiş", "üzüm", "incir", "kayısı",
        "erik", "şeftali", "kavun", "karpuz", "vişne", "çilek", "yaban mersini", "böğürtlen", "ahududu", "kiraz"
    ],
    "ingTurkKelime": {
        "apple": "elma", "table": "masa", "car": "araba", "cat": "kedi", "dog": "köpek",
        "window": "pencere", "phone": "telefon", "camera": "kamera", "computer": "bilgisayar", "book": "kitap",
        "notebook": "defter", "school": "okul", "icecream": "dondurma", "park": "park", "home": "ev",
        "software": "yazılım", "door": "kapı", "teacher": "öğretmen", "student": "öğrenci", "flower": "çiçek",
        "garden": "bahçe", "water": "su", "chair": "sandalye", "lamp": "lamba", "picture": "resim",
        "wall": "duvar", "roof": "çatı", "kitchen": "mutfak", "ball": "top", "glass": "bardak",
        "plate": "tabak", "fork": "çatal", "spoon": "kaşık", "knife": "bıçak", "bus": "otobüs",
        "train": "tren", "plane": "uçak", "ship": "gemi", "mountain": "dağ", "river": "nehir",
        "lake": "göl", "forest": "orman", "sky": "gökyüzü", "sun": "güneş", "moon": "ay",
        "star": "yıldız", "house": "ev", "tree": "ağaç", "bookstore": "kitapçı", "library": "kütüphane",
        "bread": "ekmek", "cheese": "peynir", "butter": "tereyağı", "milk": "süt", "egg": "yumurta",
        "fish": "balık", "chicken": "tavuk", "meat": "et", "soup": "çorba", "salad": "salata",
        "orange": "portakal", "banana": "muz", "grape": "üzüm", "peach": "şeftali", "night": "gece",
        "cherry": "kiraz", "strawberry": "çilek", "watermelon": "karpuz", "melon": "kavun", "pineapple": "ananas",
        "rabbit": "tavşan", "tiger": "kaplan", "lion": "aslan", "bird": "kuş", "ring": "yüzük",
        "horse": "at", "cow": "inek", "sheep": "koyun", "goat": "keçi", "pig": "domuz",
        "elephant": "fil", "snake": "yılan", "spider": "örümcek", "bear": "ayı", "wolf": "kurt",
        "fox": "tilki", "monkey": "maymun", "frog": "kurbağa", "bee": "arı", "ant": "karınca",
        "mouse": "fare", "day": "gün", "donkey": "eşek", "deer": "geyik", "camel": "deve",
        "bottle": "şişe", "dolphin": "yunus", "shark": "köpekbalığı", "glasses": "gözlük", "hair": "saç",
        "jellyfish": "denizanası", "crab": "yengeç", "hand": "el", "shoes": "ayakkabı", "penguin": "penguen",
        "panda": "panda", "koala": "koala", "kangaroo": "kanguru", "parrot": "papağan", "squirrel": "sincap"
    },
    "zitAnlamli": {
        "iyi": "kötü", "büyük": "küçük", "uzun": "kısa", "hızlı": "yavaş", "güzel": "çirkin",
        "açık": "kapalı", "sıcak": "soğuk", "aç": "tok", "yüksek": "alçak", "zengin": "fakir",
        "güçlü": "zayıf", "doğru": "yanlış", "geniş": "dar", "temiz": "kirli", "şişman": "zayıf",
        "kalın": "ince", "sert": "yumuşak", "hafif": "ağır", "aydınlık": "karanlık", "çabuk": "yavaş",
        "uzak": "yakın", "mutlu": "üzgün", "kuru": "ıslak", "boş": "dolu", "yeni": "eski",
        "çalışkan": "tembel", "doğal": "yapay", "gece": "gündüz", "ilk": "son", "tatlı": "ekşi",
        "ucuz": "pahalı", "normal": "anormal", "kirli": "temiz", "dikkatli": "dikkatsiz",
        "başarılı": "başarısız", "yararlı": "zararlı", "meşgul": "müsait", "pozitif": "negatif",
        "parlak": "mat", "sağ": "sol", "çok": "az", "zor": "kolay", "sığ": "derin",
        "sorun": "çözüm", "kalabalık": "tenha", "genç": "yaşlı", "karanlık": "aydınlık", "suçlu": "masum",
        "taze": "bayat", "tutsak": "özgür", "var": "yok", "unutmak": "hatırlamak", "alt": "üst",
        "aynı": "farklı", "barış": "savaş", "bulanık": "berrak", "cesur": "korkak", "cimri":"cömert",
        "düzenli":"dağınık", "erken":"geç", "galip":"mağlup", "gerçek":"sahte", "geri":"ileri", 
        "gülmek":"ağlamak", "inmek":"çıkmak", "zam":"indirim", "günah":"sevap", "katı":"sıvı", 
        "yaz":"kış", "kıtlık":"bolluk", "kuzey":"güney", "doğu":"batı", "ihracat":"ithalat",
        "mağlubiyet":"galibiyet", "minimum":"maksimum", "ödül":"ceza", "sabah":"akşam", "ret": "kabul",
        "kibar":"kaba", "sonbahar":"ilkbahar", "tekil":"çoğul", "orijinal":"çakma", "yaramaz":"uslu",
        "parlak":"mat", "sık":"seyrek", "başlamak":"bitirmek", "gelir":"gider", "somut":"soyut",
        "geçmiş":"gelecek", "evet":"hayır", "azalmak":"çoğalmak", "çekmek":"itmek", "eksik":"fazla",
        "ilkel":"modern", "iniş":"çıkış", "tavan":"taban", "toplama":"çıkarma", "üretim":"tüketim"

    }
    
};

        let highScores = JSON.parse(localStorage.getItem('highScores')) || [];

        function login() {
            const usernameInput = document.getElementById('username').value.trim();
            if (usernameInput) {
                currentUser = usernameInput;
                document.getElementById('current-user').textContent = currentUser;
                document.querySelector('.login-section').classList.add('hidden');
                document.querySelector('.game-selection').classList.remove('hidden');
                updateScoreboard();
            } else {
                alert("Lütfen bir kullanıcı adı girin!");
            }
        }

        function logout() {
            // Kullanıcıyı giriş ekranına döndür
            currentUser = "";
            document.getElementById('username').value = "";
            document.querySelector('.login-section').classList.remove('hidden');
            document.querySelector('.game-selection').classList.add('hidden');
        }

        function startGame(gameType) {
            document.querySelector('.game-selection').classList.add('hidden');
            document.getElementById('game-area').style.display = 'block';
            currentGame = gameType;
            timeLeft = 60;
            score = 0;
            currentHighScore = getHighScore(gameType);
            updateScoreAndTimer();
            timer = setInterval(updateTimer, 1000);
            loadNextQuestion();
            setDescription(gameType);
        }

        function updateTimer() {
            timeLeft--;
            updateScoreAndTimer();
            if (timeLeft <= 0) {
                endGame();
            }
        }

        function checkAnswer() {
            const userInput = document.getElementById('user-input').value.trim().toLowerCase();
            const correctAnswer = document.getElementById('game-content').dataset.answer.toLowerCase();

            if (userInput === correctAnswer) {
                score += 10;

                if (score > currentHighScore) {
                    showCongratsMessage();
                    currentHighScore = score;
                }

                updateScoreAndTimer();
                loadNextQuestion();
            }
        }

        function endGame() {
            clearInterval(timer); // Zamanlayıcıyı durdur
            document.getElementById('game-area').style.display = 'none';
            document.querySelector('.game-selection').classList.remove('hidden');

            // Süre bitti mesajı
            alert("Süre Bitti!");

            // Skorları kaydet ve göster
            saveHighScore();
            updateScoreboard();
        }

        function saveHighScore() {
            const existingScore = highScores.find(
                (entry) => entry.game === currentGame && entry.user === currentUser
            );

            if (existingScore) {
                if (score > existingScore.score) {
                    existingScore.score = score;
                }
            } else {
                highScores.push({ game: currentGame, user: currentUser, score });
            }

            localStorage.setItem('highScores', JSON.stringify(highScores));
        }

        function showCongratsMessage() {
            const congratsMessage = document.getElementById('congrats-message');
            congratsMessage.style.display = 'block';
            setTimeout(() => {
                congratsMessage.style.display = 'none';
            }, 3000);
        }

        function getHighestScoreForGame(game) {
            const gameScores = highScores.filter(entry => entry.game === game);
            if (gameScores.length === 0) return null;
            return gameScores.reduce((max, entry) => entry.score > max.score ? entry : max);
        }

        function getHighScore(game) {
            const highestScoreEntry = getHighestScoreForGame(game);
            return highestScoreEntry ? highestScoreEntry.score : 0;
        }

        function getGameName(game) {
            switch (game) {
                case 'karisikHarfler': return 'Karışık Harflerden Kelime Bulma';
                case 'ingTurkKelime': return 'İngilizce-Türkçe Kelime Bulma';
                case 'zitAnlamli': return 'Zıt Anlamlısını Bulma';
                default: return 'Bilinmeyen Oyun';
            }
        }

        function updateScoreAndTimer() {
            document.getElementById('timer').textContent = `Zaman: ${timeLeft}`;
            document.getElementById('score').textContent = `Puan: ${score}`;
        }

        function setDescription(game) {
            const descriptionElement = document.getElementById('description');
            switch (game) {
                case 'karisikHarfler':
                    descriptionElement.textContent = "Karışık harflerden doğru kelimeyi bulmaya çalışın!";
                    break;
                case 'ingTurkKelime':
                    descriptionElement.textContent = "İngilizce kelimenin Türkçe karşılığını bulmaya çalışın!";
                    break;
                case 'zitAnlamli':
                    descriptionElement.textContent = "Verilen kelimenin zıt anlamlısını bulun!";
                    break;
            }
        }

        let usedWords = {
    "karisikHarfler": [],
    "ingTurkKelime": [],
    "zitAnlamli": []
};

function loadNextQuestion() {
    const gameData = words[currentGame];
    let question, answer;

    if (currentGame === "karisikHarfler") {
        let word;
        let shuffledWord;
        do {
            // Yeni bir kelime seç
            word = gameData[Math.floor(Math.random() * gameData.length)];

            // Karıştırılmış kelimeyi oluştur ve orijinal kelimeyle aynı mı kontrol et
            do {
                shuffledWord = word.split('').sort(() => Math.random() - 0.5).join('');
            } while (shuffledWord === word); // Karıştırılmış kelime orijinal kelimeye eşitse yeniden karıştır

        } while (usedWords["karisikHarfler"].includes(shuffledWord)); // Daha önce kullanılmışsa yeni kelime seç

        usedWords["karisikHarfler"].push(shuffledWord);

        question = shuffledWord;
        answer = word;
    } else if (currentGame === "ingTurkKelime") {
        // İngilizce-Türkçe Kelime Bulma oyununda kullanılacak kelimeyi seçiyoruz
        const keys = Object.keys(gameData);
        let word;
        do {
            word = keys[Math.floor(Math.random() * keys.length)];
        } while (usedWords["ingTurkKelime"].includes(word)); // Daha önce seçilmişse, yeni kelime seç

        // Seçilen kelimeyi "usedWords" listesine ekliyoruz
        usedWords["ingTurkKelime"].push(word);

        question = word;
        answer = gameData[word];

    } else if (currentGame === "zitAnlamli") {
        // Zıt Anlamlısını Bulma oyununda kullanılacak kelimeyi seçiyoruz
        const keys = Object.keys(gameData);
        let word;
        do {
            word = keys[Math.floor(Math.random() * keys.length)];
        } while (usedWords["zitAnlamli"].includes(word)); // Daha önce seçilmişse, yeni kelime seç

        // Seçilen kelimeyi "usedWords" listesine ekliyoruz
        usedWords["zitAnlamli"].push(word);

        question = word;
        answer = gameData[word];
    }

    // Soruyu ve cevabı oyun ekranına yerleştiriyoruz
    const gameContent = document.getElementById('game-content');
    gameContent.textContent = question;
    gameContent.dataset.answer = answer;
    document.getElementById('user-input').value = "";
}


        function updateScoreboard() {
            const tableBody = document.getElementById('score-table-body');
            tableBody.innerHTML = "";

            // Oyun türlerini sırasıyla kontrol et
            const games = ["karisikHarfler", "ingTurkKelime", "zitAnlamli"];
            
            games.forEach(game => {
                // Her oyun için en yüksek skoru alan kullanıcıyı bul
                const highestScoreEntry = getHighestScoreForGame(game);

                if (highestScoreEntry) {
                    const row = document.createElement('tr');
                    const gameCell = document.createElement('td');
                    const userCell = document.createElement('td');
                    const scoreCell = document.createElement('td');

                    gameCell.textContent = getGameName(game);
                    userCell.textContent = highestScoreEntry.user;
                    scoreCell.textContent = highestScoreEntry.score;

                    row.appendChild(gameCell);
                    row.appendChild(userCell);
                    row.appendChild(scoreCell);

                    tableBody.appendChild(row);
                }
            });
        }

    </script>
</body>
</html>
